<html>
    <head>
        <link href="vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    </head>
    <body>
        <h1>Progress bar test</h1>
        <div class="progress">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="progress"></div>
        </div>
        <button id="start">Start</button>
        <div id="done" style="visibility: hidden">
            <h2>All done!</h2>
        </div>
    </body>
    <script type="text/javascript">
        document.getElementById('start').addEventListener("click", function () {
            let i = setInterval( function () {
                let curvalue = parseInt(document.getElementById('progress').getAttribute('aria-valuenow'));

                if (curvalue < 100) {
                    curvalue+=20;
                    document.getElementById('progress').setAttribute('aria-valuenow', curvalue);
                    document.getElementById('progress').setAttribute('style', 'width: ' + curvalue + '%');
                } else {
                    document.getElementById('done').setAttribute('style', 'visibility: block')
                    clearInterval(i);
                }
            }, 1500 )
        });
    </script>
</html>
